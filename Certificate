<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulaire de Certificat</title>
<link href="https://fonts.googleapis.com/css2?family=Sacramento&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <style>
        .form-container {
            background: #ffffff;
            border-radius: 15px;
            padding: 20px;
            text-align: left;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.3), 
                        0 0 20px rgba(0, 0, 0, 0.1);
            transform: perspective(1000px) rotateX(1deg) rotateY(-1deg);
            transition: all 0.3s ease-in-out;
    width: 300px; /* Paysage */
    height: 600px;
    background-color: lightblue;
    
    align-items: center; /* Centre verticalement */
    justify-content: center; /* Centre horizontalement */
  }

     /* Labels */
    .label {
        display: flex; /* Flexbox pour centrer */
        align-items: center; /* Centrage vertical */
        justify-content: center; /* Centrage horizontal */
        background-color: lightcoral;
        color: white;
        font-size: 14px;
        padding: 5px;
        border-radius: 5px;
        width: 100%; /* Label prend toute la largeur */
        margin-bottom: 10px;
        height: 30px; /* Hauteur fixe pour homogénéité */
    }
        /* Conteneur du formulaire */
        .form-container {
            background: #999999;
            border-radius: 15px;
            padding: 20px;
            text-align: left;
            box-shadow: 0 10px 15px rgba(0, 0, 0, 0.3), 
                        0 0 20px rgba(0, 0, 0, 0.1);
            width: 300px; /* Dimensions fixes */
            height: auto; /* Hauteur ajustée au contenu */
        }

    /* Champs de saisie et sélection */
    input, select {
        margin: 10px 0;
        padding: 8px;
        width: 100%; /* Occupe toute la largeur */
        box-sizing: border-box;
    }

        .icon {
            font-size: 50px;
            color: #ff9800;
            margin-bottom: 15px;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        }
        .signature {
            font-family: 'Sacramento', cursive;
            font-size: 16px;
            color: #4B0082; /* Bleu indigo */
            }
        /* Définir la taille de la page en paysage */
        @page {
            size: A4 landscape; /* Format A4 en paysage */
            margin: 1cm;       /* Ajustez les marges selon vos besoins */
        }

        body {
            width: 29.7cm;     /* Largeur en paysage */
            height: 21cm;      /* Hauteur en paysage */
            margin- right: 3cm;
            padding left: 3cm;
            font-family: Times new Roman, sans-serif;
    user-select: none; /* Désactive la sélection de texte */
    -webkit-user-select: none; /* Compatibilité avec WebKit (Chrome, Safari) */
    -ms-user-select: none; /* Compatibilité avec les anciennes versions d'IE */
    -moz-user-select: none; /* Compatibilité avec Firefox */
}

        .content {
            margin-left: 3cm;margin- right:3cm;
            margin-top: 3cm;margin- bottom: 3cm;width: 80%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-sizing: border-box;
            border: 4px solid #ccc; /* Pour visualiser les bordures */
        }
        

        .form-container {
            margin-top: 40px;


        }
        input, select {
            margin: 10px 0;
            padding: 8px;
            width: 100%;
}
       .label {
    position: absolute;
    
    Margin-left: 0.5cm;
    
    width: 100%; /* Fixe la largeur du label */
    text-align: center; /* Centre le texte à l'intérieur */
    background-color: lightcoral;
    color: white;
    font-size: 14px;
    padding: 5px;
    border-radius: 5px;
            }
    }
    .btn-create {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px 20px;
      font-size: 16px;
      font-weight: bold;
      color: white;
      background-color: #4CAF50;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
      transition: background-color 0.3s ease, transform 0.2s ease;
      text-decoration: none;
    }
    .btn-create i {
      margin-right: 8px;
    }
    .btn-create:hover {
      background-color: #45a049;
      transform: scale(1.05);
    }
    .btn-create:active {
      background-color: #3e8e41;
      transform: scale(0.98);
    }
        .certificate {
            border: 3px solid #444;
            margin: 20px;
            text-align: center;
            font-size: 18px;
            width: 100%;
            height: 100%;
            position: relative;
            margin: 2cm auto;
            background: url('https://mauricelin.wordpress.com/wp-content/uploads/2024/12/20241222_2257134628888802508783379.jpg?w=800') no-repeat center center;
            background-size: cover; /* Ajuste l'image pour remplir tout l'espace */
            border: 3px solid #ccc; /* Optionnel pour la mise en forme */
        }
        .certificate h2 {
            color: #2C3E50;
        }
        .certificate p {
            color: #34495E;
        }
        .logo {
            height: 100px;
            width: 100px;
            margin: 50px 0;
        }
        .signatures {
            margin-top: 40px;
            font-weight: bold;
        }
        .encadre {
            border: 2px solid #000; /* Bordure noire */
            padding: 10px;          /* Espacement intérieur */
            border-radius: 8px;     /* Coins arrondis */
            background-color: #f9f9f9; /* Couleur de fond */
            width: 100px;           /* Largeur de l'encadré */
            margin: 10px auto;      /* Centrage horizontal */
            text-align: center;     /* Centrage du texte */
        }
    </style>
</head>
<body>

    <!-- Formulaire de saisie -->
    <div class="form-container">
        <h1><!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lien avec icône de formation</title>
    <!-- Lien vers la bibliothèque Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* Style pour retirer le soulignement du lien */
        .no-underline {
            text-decoration: none;
            color: blue; /* Couleur du lien */
            font-size: 16px;
        }
        .no-underline i {
            margin-right: 5px; /* Espace entre l'icône et le texte */
        }
    </style>
</head>
<body>

    <!-- Lien avec icône de formation -->
   <div class="encadre"> <a href="go:@114" class="no-underline">
        <i class="fas fa-certificate"></i>Compléter le Formulaire
    </a></div>
    
        
</body>
</html></h1>
        <form id="certificatForm" onsubmit="generateCertificate(event)">
            <label for="name">Nom Complet:</label>
            <input type="text" id="name"placeholder="Ex: Mauricelin JEAN" required>

    <label for="formattedInput">CIN/NIF :</label>
    <input type="text" id="formattedInput" oninput="formatInput(this)" placeholder="123-456-789-0" required>


            <label for="option">Option :</label>
            <input type="text" id="trainingTitle" value="Gestion de stock " readonly>


                <label for="customInput">Code de référence :</label>
    <input 
        type="text" 
        id="customInput" 
        oninput="formatCustomInput(this)" 
        onfocus="enforcePrefix(this)" 
        placeholder=""
        value=""
    required pattern="AENG-000\d{6}">

            <label for="date">Date de début :</label>
            <input type="date" id="dateFrom"required>


            <label for="date">Date de fin :</label>
            <input type="text" id="date"style="margin- right : 1cm;" readonly>

            <button type="submit"class="btn-create"><i class="fas fa-plus"></i> Créer</button>
        </form>
    </div>

    <!-- Page du Certificat -->
    <div id="certificatePage" class="certificate" style="display:none;">
        <div class="logo">
            <img src="https://mauricelin.wordpress.com/wp-content/uploads/2024/12/20241205_2101398374592177562540522.png?w=1024" alt="Logo" class="logo" id="logo"style="margin-left: 2cm;"/>

        </div>    <h3>Académie de l'excellence nouvelle génération</h3>

        Ce présent <h1 id="certificateTitle">Certificat d'aptitudes</h1>
              <p id="certificateText"></p>
        <div class="signatures">
 <P align="Right"class="signature" id="signature"style="margin-right: 4cm;"><U>. 
     Mauricelin JEAN      .</U></p>
            <P align="Right"class="" id="signature"style="margin-right: 4cm;">La Direction</p>
        </div>
    </div>

    <script>
        function generateCertificate(event) {
            event.preventDefault();

            // Récupération des données du formulaire
            let name = document.getElementById('name').value;
            let nif = document.getElementById('formattedInput').value;
            let trainingTitle = document.getElementById('trainingTitle').value;
            let dateFrom = document.getElementById('dateFrom').value;
            let dateTo = document.getElementById('date').value;
            let referencecode = document.getElementById('customInput').value;

            // Construction du texte du certificat
            let certificateText = `
                <p>Certifie que Mr./Mme <h2>${name}</h2> </p> a pleinement pris part à la formation intitulée :
                <strong>${trainingTitle}</strong> du <strong>${dateFrom}</strong> au <strong>${dateTo}</strong>.<p>Son assiduité et son implication ont été
remarquables, témoignant d'un intérêt sincère pour l'acquisition</p><p> de connaissances et de compétences pertinentes dans ce domaine.
                <P>Il/Elle a été enregistré(e) sous le CIN/NIF: <strong>${nif}</strong>.</p><p>Ce certificat est délivré à des fins officielles et juridiques.</p>
<P align="left"class="referencecode" id="referencecode"style="margin-left: 2cm;">Nº : <strong>${referencecode}</strong></p>
            `;

            // Affichage du certificat avec les données saisies
            document.getElementById('certificateText').innerHTML = certificateText;

            // Affichage de la page de certificat et masquage du formulaire
            document.getElementById('certificatForm').style.display = 'none';
            document.getElementById('certificatePage').style.display = 'block';
        }
        // Fonction pour formater la date au format JJ/MM/AAAA
        function getCurrentDate() {
            const today = new Date();
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0'); // Ajoute un 0 si nécessaire
            const day = String(today.getDate()).padStart(2, '0');
            return `${year}/${month}/${day}`;
        }

        // Insère la date actuelle dans le champ
        document.getElementById('date').value = getCurrentDate();

           function formatInput(input) {
            // Supprimer tout caractère non numérique
            let value = input.value.replace(/\D/g, '');

            // Ajouter des traits selon le format 123-456-789-0
            value = value.replace(/(\d{3})(?=\d)/g, '$1-');

            // Limiter à 10 chiffres (avec les traits formatés)
            input.value = value.slice(0, 13); // 3 traits + 10 chiffres
        }
 </script>

</body>
</html>
